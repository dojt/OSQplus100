#+TITLE:  Encyclopedia of Stabilizer Code Operations
#+DATE:   Thu May 23 18:10:10 EEST 2024
#+SETUPFILE: ./org-mode-header.org
:SET_STUFF_UP:
#+INCLUDE: "~/Git/DOT_LaTeX/org-latex-export-defs.org"
#+STARTUP: overview
#+SEQ_TODO: TODO MORE â†˜ï¸ | REVIEW NEW
#+BEGIN_HTML
\(
\newcommand{\sodifjosidjfosidjfosijdfosijdfoisjdfoijsdofijsodifjosidjfosidj}{\mathscr{A}}
\newcommand{\viusbidufhwiefsdofijsoifjaoidsjfoiqhwoeufhaosudfhoauisdhfoaiwe}[1]{A #1}
\)
#+END_HTML
#+SETUPFILE: https://fniessen.github.io/org-html-themes/org/theme-readtheorg.setup
#+BEGIN_COMMENT
â—ï¸ *WARNING!  GPLv3*
#+END_COMMENT
#+PROPERTY: header-args :eval never :exports code :noweb no-export :noweb-prefix no
:END:

* Lattice Surgery
** â†˜ï¸ Code
***** Shapes

      * Textbook shape d=7: 7Ã—7 physical qubits
        #+BEGIN_EXAMPLE
         âˆ§ âˆ§ âˆ§
         XZXZXZâŸ©
        âŸ¨ZXZXZX
         XZXZXZâŸ©
        âŸ¨ZXZXZX
         XZXZXZâŸ©
        âŸ¨ZXZXZX
          âˆ¨ âˆ¨ âˆ¨
        #+END_EXAMPLE

      * (more)

***** MORE "Logical contributions" of physical qubit neighborhoods

      * In the bulk: 1-(1/4+1/4+1/4+1/4)                      = 0
        #+BEGIN_EXAMPLE
        Z X
         âŠ™
        X Z
        #+END_EXAMPLE

      * On an edge: 1-(1/4+1/4+1/2)                           = 0
        #+BEGIN_EXAMPLE
        X
         âŠ™
        Z âŸ©
        #+END_EXAMPLE

      * Convex corner std Z-X: 1-(1/4+1/2)                    = 1/4
        #+BEGIN_EXAMPLE
        âˆ§   âˆ§
         â‹… â‹… âŠ™
        Z X Z
         â‹… â‹… â‹…
        X Z X âŸ©
        #+END_EXAMPLE

      * Convex corner weird ğ›”-ğ›”:  1-(1/4+1/2+1/2)             = -1/4
        #+BEGIN_EXAMPLE
        âˆ§   âˆ§
         â‹… â‹… âŠ™
        Z X Z âŸ©
         â‹… â‹… â‹…
        X Z X
         â‹… â‹… â‹…
        Z X Z âŸ©
        #+END_EXAMPLE

      * Convex corner obtuse ğ›”-ğ›” near:  3 âˆ’ 2â‹…(1/2+1/4+1/3) âˆ’ (1/4+1/4+1/4+1/3)  = -1/4
        #+BEGIN_EXAMPLE
          âˆ§
         â‹… âŠ™
        Z X â—º
         â‹… âŠ™ âŠ™
        X Z X âŸ©
         â‹… â‹… â‹…
        Z X Z
        #+END_EXAMPLE

      * Convex corner obtuse ğ›”-ğ›” far:  3 âˆ’ 2â‹…(1/4+1/3) âˆ’ (1/4+1/4+1/4+1/3)  = 3/4 = SHIT
        #+BEGIN_EXAMPLE
        âˆ§
         â‹… âŠ™
        Z X â—º
         â‹… âŠ™ âŠ™
        X Z X
         â‹… â‹… â‹…
        Z X Z âŸ©
        #+END_EXAMPLE

      * Convex corner obtuse Z-X:  3 âˆ’ (1/2+1/4+1/3) âˆ’ (1/4+1/3) âˆ’ (1/4+1/4+1/4+1/3) = 1/4
        #+BEGIN_EXAMPLE
          âˆ§
         â‹… âŠ™
        Z X â—º
         â‹… âŠ™ âŠ™
        X Z X
         â‹… â‹… â‹…
        Z X Z âŸ©
        #+END_EXAMPLE

      * etc
      * etc


** TODO Memory
*** Syndrome measurement
*** Decoding
*** Fixing


** â†˜ï¸ Shape changes & moves
***** TODO Expand
***** MORE Split

      * X-split = |++âŸ©âŸ¨+| + |--âŸ©âŸ¨-|  = (|00âŸ©+|11âŸ©)âŸ¨0| + (|01âŸ©+|10âŸ©)âŸ¨1|  â«½âˆš2
        + ZX-diagram
          #+BEGIN_EXAMPLE
             â•±
           â”€X
             â•²
          #+END_EXAMPLE
        + Measurement pattern
          1. Center part of logical qubit, boundaries left and right, not shown, are Z; logX is vertical X's:
            #+BEGIN_EXAMPLE
            âˆ§   âˆ§   âˆ§
             â‹… â‹… â‹… â‹… â‹…
            Z X ğ—­ X Z
             â‹… â‹… â‹… â‹… â‹…
            X Z ğ—« Z X
             â‹… â‹… â‹… â‹… â‹…
            Z X ğ—­ X Z
             â‹… â‹… â‹… â‹… â‹…
            X Z ğ—« Z X
             â‹… â‹… â‹… â‹… â‹…
              âˆ¨   âˆ¨
            #+END_EXAMPLE
          2. Measure ZâŠ—Z (vertical) on the left of each of the bold ğ—­s (the pairs on the right are implied).
          3. Result: ğ›• := tensor of all X's left and right of the removed stabilizer column; plus:
            #+BEGIN_EXAMPLE
            âˆ§        âˆ§
             â‹… â‹…  â‹… â‹… â‹…
            Z X âŸ©âŸ¨ X Z
             â‹… â‹…  â‹… â‹… â‹…
            X Z    Z X
             â‹… â‹…  â‹… â‹… â‹…
            Z X âŸ©âŸ¨ X Z
             â‹… â‹…  â‹… â‹… â‹…
            X Z    Z X
             â‹… â‹…  â‹… â‹… â‹…
              âˆ¨    âˆ¨
            #+END_EXAMPLE
            So we have 2 logical qubits, but their logical X's are equivalent through ğ›•

      * Z-split = |00âŸ©âŸ¨0| + |11âŸ©âŸ¨1|
        + ZX-diagram
          #+BEGIN_EXAMPLE
             â•±
           â”€Z
             â•²
          #+END_EXAMPLE

***** TODO Merge

      * Definitions (with ZX-diagrams)
        + Merges have a classical outcome, ğ–º, so they reduce the quantum degrees of freedom from 2 to 1
        + Z-merge = |0âŸ©âŸ¨0ğ–º| + |1âŸ©âŸ¨1ğ–ºÌ…|
          #+BEGIN_EXAMPLE
          â”€â”€â”€â”
             Zâ”€
          â”€Xâ‚â”˜
          #+END_EXAMPLE
        + X-merge = |+âŸ©âŸ¨+ğ‘| + |-âŸ©âŸ¨-ğ‘Ì…|  where ğ‘ = (-1)áµƒ, and ğ‘Ì… = -(-1)áµƒ
          #+BEGIN_EXAMPLE
          â”€â”€â”€â”
             Xâ”€
          â”€Zâ‚â”˜
          #+END_EXAMPLE

***** REVIEW Full rotate

      * Meaning: Z-boundary and X-boundary are exchanged.
        + ... but what happens with logical Z,X â€” are they kept?

      * Htrans + Hvirt :: Possibly in parallel:
        + Apply H to each data qubit (transversal [[H-gate]])
        + Swap Z,X logical ops (virtual [[H-gate]])

***** TODO FoGi rotate

      From [fn:FoGiLS]

***** TODO etc


** â†˜ï¸ Operations
*** â†˜ï¸ State preparation
***** MORE Â±Z, Â±X

      * +ğ›” where ğ›” âˆˆ {Z,X}:
        #+BEGIN_SRC python
          for q in dataqubits:
              q.init(+ğ›”)
          EC(d times)
        #+END_SRC
        Cost:
        + 1 QEC cycle
          - ... that can be merged with next op[fn:river]
          - TODO :: how exactly?

      * TODO :: There's sure to be a shortcut for preparing -Z and -X

***** TODO Â±Y

*** MORE Single qubit Clifford gates
***** REVIEW Pauli-{X,Z} gates

      * Transversal :: (Only if length of observable is odd)[fn:river]
        + Space-time cost: Time = 1 cycle
        + Error cost:
          - *Z*: with /virtual/ Z-gate: 0
          - *X*, *Z* w/o virtual Z-gate: loads of 1-qubit gates

      * Virtual P   :: Flip /frame/ of every physical qubit & *propagate*
        - ??? This doesn't look like it makes any sense...

      * Virtual L   :: Flip sign of logical op[fn:river]

***** Pauli-Y gate

      * Transversal :: (Only if lengths of Z,X observables are both odd)[fn:river]

      * Apply â›Zâ›Xâ› or â›Xâ›Zâ›; e.g., ~X{virt}, Ztrans~
        - difference is global phase
        - can be done in parallel

***** REVIEW H-gate

      * Transversal :: (TODO explain)

      * Virtual :: Swap Z,X logical ops
        + I.e., say,
          - before: ZÌ… between Z-boundaries, XÌ…  between X-boundaries;
          - after:  ZÌ… between X-boundaries, XÌ…  between Z-boundaries.
        + Cf. [[Full rotate]]

*** â†˜ï¸ Single-qubit measurement
***** Z,X

      * Destructive :: Measure all data qubits.[fn:river:]

      * (Trivial) [[Split]] ::
        + ZX-diagram (for measuring Z):
          #+BEGIN_EXAMPLE
           +----------+
           |          |
          â”€â”€â”€â”€Zâ”€â”€â”€â”€â”€â”€â”€â”€â”€
           |  â”‚       |
           |  â””â”€Xâ‚â”€Xâ‚€ |
           +----------+
          #+END_EXAMPLE
          - The ~Xâ‚€~ measurement (â¦¨Z) in the diagram can be performed on a trivial "logical qubit" consisting of
            only one row or column of data qubits, e.g.:
            #+BEGIN_EXAMPLE
            â‹…
             âŸ©
            â‹…

            â‹…
             âŸ©
            â‹…

            â‹…
            #+END_EXAMPLE


        + Split off 1 column/row of weight-4 stabilizers (to measure ğ›”, do ğ›” split)
        + â¾ each data qubit in single remaining column/row holds observable value up to sign
        + Careful: distance may decrease ([[Expand]] before?)
        + TODO :: how to handle error detecting info that arises?  (The product of every 2 consecutive data qubits
          in the row/column is a stabilizer known.)
            #+BEGIN_EXAMPLE
              âˆ§   âˆ§
             â‹… â‹… â‹… â‹…
            X Z X Z
             â‹… â‹… â‹… â‹…
            Z X Z X âŸ©
             â‹… â‹… â‹… â‹…
            X Z X Z
             â‹… â‹… â‹… â‹…
            Z X Z X âŸ©
             â‹… â‹… â‹… â‹…
            âˆ¨   âˆ¨
            #+END_EXAMPLE

      * (Trivial) [[Merge]] ::
        + ZX-diagram (for measuring Z):
          #+BEGIN_EXAMPLE
           +----------+
           |          |
          â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€Zâ”€â”€â”€
           | Xâ‚€â”€â”€â”€Xâ‚â”˜ |
           +----------+
          #+END_EXAMPLE
          - The ~Xâ‚€~ state preparation (i.e., |0âŸ©) can be a performed on a trivial logical qubit consisting of

*** 2-qubit ZZ,XX measurement
*** 2-qubit Clifford gates
***** MORE CNOT

      * Z-split + X-merge + fix
        + 'Fix' refers to fixing the effect of the measurement outcome "ğ–º": a Z-gate has to be applied if that ğ–º=1.
        + ZX-diagram:
          #+BEGIN_EXAMPLE
           +--------+
           |        |
          â”€â”€â”€â”€Zâ”€â”€Zâ‚â”€â”€â”€
           |  â”‚     |
           |  â”‚     |
           |  Zâ‚    |
           |  â”‚     |
          â”€â”€â”€â”€Xâ”€â”€â”€â”€â”€â”€â”€
           |        |
           +--------+
          #+END_EXAMPLE
        + The vertical line in the ZX-diagram can be thought of as an auxiliary logical qubit.
        + Applying the Z-gate can be done virtually, of course.
        + TODO :: Split & merge can be done in parallel â€” TODO: *Work out how!*[fn:GiCNOT]
        + TODO :: Work out cost & compare with â¦¨ZZ+â¦¨XX

      * â¦¨ZZ + â¦¨XX + fix
        + ZX-diagram:
          #+BEGIN_EXAMPLE
           +--------+
           |        |
          â”€â”€â”€â”€Zâ”€â”€Zâ‚â”€â”€â”€
           |  â”‚     |
           |  â”‚     |
           |  Zâ‚    |
           |  â”‚     |
          â”€â”€â”€â”€Xâ”€â”€â”€â”€â”€â”€â”€
           |        |
           +--------+
          #+END_EXAMPLE

*** Multi-qubit Pauli measurement
***** Measure ZZ,XX

      * Z-split /then/ Z-merge
        + ZX-diagram for â¦¨ZZ
          #+BEGIN_EXAMPLE
           +--------+
           |        |
          â”€â”€â”€Zâ”€â”€â”€â”€â”€â”€â”€â”€
           |  â•²     |
           |   â•²    |
           |    Xâ‚  |
           |     â•²  |
          â”€â”€â”€â”€â”€â”€â”€â”€Zâ”€â”€â”€
           |        |
           +--------+
          #+END_EXAMPLE

      * Z-merge /then/ Z-split, plus fix
        + ZX-diagram for â¦¨ZZ
          #+BEGIN_EXAMPLE
           +------------+
           |            |
          â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€
           |    â”‚  â”‚    |
           |    Zâ”€â”€Z    |
           |    â”‚  â”‚    |
          â”€â”€â”€Xâ‚â”€â”˜  â””â”€Xâ‚â”€â”€â”€
           |            |
           +------------+
          #+END_EXAMPLE
        + Why is this correct?  Transform ZX-diagram above ("1.") as follows:
          2. [@2]
             #+BEGIN_EXAMPLE
              +------------+
              |            |
             â”€â”€â”€â”€â”€â”€Zâ”€â”€â”€â”€â”€â”€â”€â”€â”€
              |    â”‚       |
              |    â”‚       |
              |    â”‚       |
             â”€â”€â”€Xâ‚â”€Zâ”€â”€â”€â”€Xâ‚â”€â”€â”€
              |            |
              +------------+
             #+END_EXAMPLE
          3.
             #+BEGIN_EXAMPLE
              +------------+
              |            |
             â”€â”€â”€â”€â”€â”€Zâ”€â”€â”€â”€â”€â”€â”€â”€â”€
              |    â”‚       |
              |    Xâ‚      |
              |    â”‚       |
             â”€â”€â”€â”€â”€â”€Zâ”€â”€â”€â”€â”€â”€â”€â”€â”€
              |            |
              +------------+
             #+END_EXAMPLE


* Footnotes = Bibliography
  * Riverlane [fn:river: ~arXiv:2307.03233~ /Compilation of a simple chemistry application/ (Riverlane)]
  * Fowler-Gidney-LS [fn:FoGiLS: ~arXiv:1808.06709~ /Low overhead quantum computation using lattice surgery/ Fowler & Gidney]
  * Gidney-QCSX-CNOT [fn:GiCNOT: Gidney's answer on Quantum-Computing Stackexchange,
    [[https://quantumcomputing.stackexchange.com/questions/20830/how-can-surface-codes-perform-splitting-and-merging-at-the-same-time-when-they-i]]]
  * DOT: Read this! [[https://quantumcomputing.stackexchange.com/questions/38232/deformation-rules-for-zx-pipe-diagrams][Gidney's reply to /Deformation rules for ZX-pipe diagrams/.]]
** EOF
# Local Variables:
# fill-column: 115
# End:
